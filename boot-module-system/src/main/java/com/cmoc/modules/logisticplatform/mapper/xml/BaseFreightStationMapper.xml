<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cmoc.modules.logisticplatform.mapper.BaseFreightStationMapper">

    <select id="getList" resultType="com.cmoc.modules.logisticplatform.entity.FreightStation">
        select bfs.*
        from bas_freight_station bfs
        where bfs.del_flag = 0
        <if test="query.id != null and query.id != ''">
            AND bfs.id = #{query.id}
        </if>
        <if test="query.freightStationNumber != null and query.freightStationNumber != ''">
            AND bfs.freight_station_number = #{query.freightStationNumber}
        </if>
        <if test="query.freightStationName != null and query.freightStationName != ''">
            AND bfs.freight_station_name LIKE concat(concat('%',#{query.freightStationName}),'%')
        </if>
        <if test="query.abbreviation != null and query.abbreviation != ''">
            AND bfs.abbreviation = #{query.abbreviation}
        </if>
        <if test="query.address != null and query.address != ''">
            AND bfs.address = #{query.address}
        </if>
        <if test="query.externalSupplierNumber != null and query.externalSupplierNumber != ''">
            AND bfs.external_supplier_number = #{query.externalSupplierNumber}
        </if>
        limit ${(pageNo-1)*pageSize}, #{pageSize};
    </select>

    <select id="getCount" resultType="java.lang.Integer">
        select count(*) from bas_freight_station
    </select>



</mapper>