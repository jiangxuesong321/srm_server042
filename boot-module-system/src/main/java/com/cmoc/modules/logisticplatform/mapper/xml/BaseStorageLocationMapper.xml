<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cmoc.modules.logisticplatform.mapper.BaseStorageLocationMapper">

    <select id="getList" resultType="com.cmoc.modules.logisticplatform.entity.StorageLocation">
        select bsl.*
        from bas_storage_location bsl
        where bsl.del_flag = 0
        <if test="query.id != null and query.id != ''">
            AND bsl.id = #{query.id}
        </if>
        <if test="query.plant != null and query.plant != ''">
            AND bsl.plant = #{query.plant}
        </if>
        <if test="query.storageLocation != null and query.storageLocation != ''">
            AND bsl.storage_location LIKE concat(concat('%',#{query.storageLocation}),'%')
        </if>
        <if test="query.freightStationNumber != null and query.freightStationNumber != ''">
            AND bsl.freight_station_number = #{query.freightStationNumber}
        </if>
        limit ${(pageNo-1)*pageSize}, #{pageSize};
    </select>

    <select id="getCount" resultType="java.lang.Integer">
        select count(*) from bas_freight_station
    </select>



</mapper>